@use 'sass:map';
@use './color.scss' as color;
@use 'util/datepicker-util.scss';
@use 'vars' as vars;

$datePickerDaySize: vars.$space-8;
$datePickerWidth: 276px;
$datePickerMinWidth: 130px;
$datePickerWithTimeMinWidth: 170px;
$datePickerWithSecondMinWidth: 150px;

.datepicker {
  display: inline-flex;
  @include datepicker-util.datePickerBlock(map.get(color.$blocks, 'work'), $datePickerDaySize, $datePickerWithTimeMinWidth);

  &__input {
    display: flex;
    flex-grow: 1;
    align-items: center;
    position: relative;
    min-width: $datePickerMinWidth;
    min-height: $datePickerDaySize;
    padding: 0 vars.$space-2;
    line-height: $datePickerDaySize;
    font-size: 1.4rem;
    user-select: none;

    &_show-time {
      min-width: $datePickerWithTimeMinWidth;
    }

    &_show-second {
      min-width: $datePickerWithSecondMinWidth;
    }
  }

  &__button {
    cursor: pointer;

    &_open {
      margin-right: vars.$space-2;
    }

    &_clear {
      margin-left: auto;
    }
  }

  &__body {
    padding: 0;
    font-size: 1.2rem;
    line-height: initial;
    width: $datePickerWidth;
    z-index: 1;
  }

  &__panel {
    display: flex;
    padding: 0 vars.$space-3;
    align-items: center;
    height: vars.$space-14;

    &__today {
      flex-grow: 1;
      text-align: right;
    }

    &__week {
      display: flex;
      font-size: 1rem;
      padding: vars.$space-1 vars.$space-3;
      align-items: center;

      &__item {
        width: 36px;
        text-align: center;
      }
    }
  }

  &__picker {
    padding: vars.$space-3;

    &__week {
      display: flex;
    }

    &__day {
      height: 34px;
      line-height: vars.$space-8;
      width: 36px;
      justify-content: center;
      text-align: center;
      padding: 0;

      &_other {
        opacity: 0.6;
      }

      &_disabled {
        opacity: 0.5;

        &:hover {
          cursor: not-allowed;
        }
      }
    }
  }

  &__month {
    padding: vars.$space-2 0;

    &__item {
      height: $datePickerDaySize;
      line-height: $datePickerDaySize;
      padding: 0 vars.$space-3;

      &__number {
        opacity: 0.6;
      }

      &_current {
        font-weight: bold;
      }
    }
  }

  &__year {
    padding: vars.$space-2 0;

    &__item {
      height: $datePickerDaySize;
      line-height: $datePickerDaySize;
      padding: 0 vars.$space-3;

      &_current {
        font-weight: bold;
      }
    }
  }
}

@each $blockName, $blockItem in color.$blocks {
  .block-#{$blockName} {
    @include datepicker-util.datepicker($blockItem, $datePickerDaySize, $datePickerWithTimeMinWidth);
  }
}
